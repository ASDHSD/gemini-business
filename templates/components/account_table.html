{# è´¦æˆ·è¡¨æ ¼ç»„ä»¶ #}
{% macro account_table(accounts_data) %}
<table class="account-table">
    <thead>
        <tr>
            <th>è´¦å·ID</th>
            <th>çŠ¶æ€</th>
            <th>è¿‡æœŸæ—¶é—´</th>
            <th>å‰©ä½™æ—¶é•¿</th>
            <th>ç´¯è®¡å¯¹è¯</th>
            <th style="text-align: center;">æ“ä½œ</th>
        </tr>
    </thead>
    <tbody>
        {% if accounts_data %}
        {% for account in accounts_data %}
        <tr style="opacity: {{ account.row_opacity }};">
            <td data-label="è´¦å·ID">
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span class="status-dot" style="background-color: {{ account.dot_color }};"></span>
                    <span style="font-weight: 600;">{{ account.account_id }}</span>
                </div>
            </td>
            <td data-label="çŠ¶æ€">
                <span style="color: {{ account.status_color }}; font-weight: 600; font-size: 12px;">{{
                    account.status_text }}</span>
            </td>
            <td data-label="è¿‡æœŸæ—¶é—´">
                <span class="font-mono" style="font-size: 11px; color: #6b6b6b;">{{ account.expires_at or 'æœªè®¾ç½®'
                    }}</span>
            </td>
            <td data-label="å‰©ä½™æ—¶é•¿">
                <span style="color: {{ account.status_color }}; font-weight: 500; font-size: 12px;">{{
                    account.expire_display }}</span>
            </td>
            <td data-label="ç´¯è®¡å¯¹è¯">
                <span style="color: #2563eb; font-weight: 600;">{{ account.conversation_count }}</span>
            </td>
            <td data-label="æ“ä½œ">
                <div style="display: flex; gap: 6px;">
                    <button onclick="refreshAccount('{{ account.account_id }}')" class="btn-sm btn-refresh"
                        title="åˆ·æ–°Cookie">ğŸ”„</button>
                    {% if account.is_expired %}
                    <button onclick="deleteAccount('{{ account.account_id }}')" class="btn-sm btn-delete"
                        title="åˆ é™¤">åˆ é™¤</button>
                    {% elif account.is_disabled or account.is_permanently_failed %}
                    <button onclick="enableAccount('{{ account.account_id }}')" class="btn-sm btn-enable"
                        title="å¯ç”¨">å¯ç”¨</button>
                    <button onclick="deleteAccount('{{ account.account_id }}')" class="btn-sm btn-delete"
                        title="åˆ é™¤">åˆ é™¤</button>
                    {% else %}
                    <button onclick="disableAccount('{{ account.account_id }}')" class="btn-sm btn-disable"
                        title="ç¦ç”¨">ç¦ç”¨</button>
                    <button onclick="deleteAccount('{{ account.account_id }}')" class="btn-sm btn-delete"
                        title="åˆ é™¤">åˆ é™¤</button>
                    {% endif %}
                </div>
            </td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="6" style="text-align: center; color: #6b6b6b; padding: 24px;">æš‚æ— è´¦æˆ·</td>
        </tr>
        {% endif %}
    </tbody>
</table>
{% endmacro %}